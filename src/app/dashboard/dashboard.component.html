<div>
    <div *ngIf="isLoadingIndicator" class="loader"><span class="spinner-border text-primary"></span></div>
    <div class="topnav">
        <div class="row">
            <div class="col-lg-12 w-75 mx-auto">
                <div class="input-group">
                    <input class="form-control" type="text" placeholder="Search Series..." name="searchData"
                        [(ngModel)]="searchData" (keyup)="getShowsBySearch(searchData)" required>
                </div>
            </div>
        </div>
    </div> 
    <ng-container *ngIf="!searchData">
        <div class="card" *ngFor="let genre of showListByGenre;let i = index" >
            <h5 class="card-header"> {{genre? genre.genre : 'Search Results:'}}</h5>
            <div *ngIf="isLoadingIndicator" class="loader"></div>
            <div *ngIf="hasError" class="error">Error, Please try after sometime!</div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="flex-container">
                        <carousel>
                            <div class="carousel-cell" *ngFor="let show of genre.shows;let i=index">
                                <img [routerLink]="['/show-details', show?.id]"
                                    [src]="show?.image ? show?.image?.medium : 'assets/no-poster.jpg'" style="height: 85%;" />
                                <div class="carousel-caption" [routerLink]="['/show-details', show?.id]">
                                    <b>Rating : {{show?.rating?.average ? show?.rating?.average: 'NA'}}</b>
                                </div>
                            </div>
                        </carousel>  
                    </div> 
                </div>
            </div>
        </div>
    </ng-container>
    <div *ngIf="searchData" class="search-list">
        <div class="card">
            <h5 class="card-header"> Search Results "{{searchData}}" :</h5>
            <h5 class="card-header" *ngIf="searchResults.length == 0">No Results found!</h5>
            <div *ngIf="hasError" class="card-header">Please try after sometime!</div>
            <div class="row" *ngIf="searchResults.length > 0">
                <div class="col-lg-12">
                    <div>
                        <carousel>
                            <div class="carousel-cell" *ngFor="let data of searchResults">
                                <img [routerLink]="['/show-details', data?.id]"
                                    [src]="data?.image ? data?.image?.medium : 'assets/no-poster.jpg'" style="height: 85%;" />
                                <div class="carousel-caption" [routerLink]="['/show-details', data?.id]">
                                    Rating : {{data?.rating?.average ? data?.rating?.average: 'NA' }}
                                </div>
                            </div>
                        </carousel>
                    </div>
                </div>
            </div>
        </div> 
    </div>
</div>